clear all;
close all;
clc;

hfig = figure();

h_device_button = uicontrol(hfig,...
                'style', 'pushbutton',...
                'units', 'normalized',...
                'position', [0.5, 0.9, 0.2, 0.05],...
                'string', 'find device',...
                'callback', @device_finder);
            
h_start_button = uicontrol(hfig,...
                'style', 'pushbutton',...
                'units', 'normalized',...
                'position', [0.75, 0.8, 0.2, 0.05],...
                'string', 'start audio',...
                'callback', @start_audio);

h_device_popup = uicontrol(hfig,...
                'style', 'popup',...
                'tag', 'dev_popup',...
                'string', 'no device available',...
                'units', 'normalized',...
                'position', [0.75, 0.9, 0.2, 0.05]);
            
h_azdir_edit = uicontrol(hfig,...
                'style', 'edit',...
                'tag', 'azdir_edit',...
                'units', 'normalized',...
                'position', [0.05, 0.9, 0.1, 0.05],...
                'string', '0');

h_eldir_edit = uicontrol(hfig,...
                'style', 'edit',...
                'tag', 'eldir_edit',...
                'units', 'normalized',...
                'position', [0.05, 0.8, 0.1, 0.05],...
                'string', '0');
            
            
azi_panel = uipanel('Parent',hfig,...
                 'units', 'normalized',...
                 'tag', 'azi_panel',...
                 'Position', [0.05 0.05 0.4 0.8]);
                     
azi_axes = axes('Parent', azi_panel,...
                'Units','normalized',...
                'tag', 'azi_axes',...
                'Box','Off',...
                'XLim', [-1 1],...
                'YLim', [-1 1],...
                'Position', [0 0 1 1]); 
                axis off   
                
elev_panel = uipanel('Parent',hfig,...
                 'units', 'normalized',...
                 'tag', 'elev_panel',...
                 'Position', [0.6 0.05 0.4 0.8]);
                     
elev_axes = axes('Parent', elev_panel,...
                'Units','normalized',...
                'tag', 'elev_axes',...
                'Box','Off',...
                'XLim', [-1 1],...
                'YLim', [-1 1],...
                'Position', [0 0 1 1]); 
                axis off 
                
set(azi_panel, 'buttondownfcn', @azdir_change);
set(elev_panel, 'buttondownfcn', @eldir_change);

guidata(hfig, guihandles(hfig));